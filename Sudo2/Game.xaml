<Window x:Class="Sudo2.Game"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Sudo2"
        mc:Ignorable="d" 
        WindowState="Maximized"
        WindowStyle="None"
         WindowStartupLocation="CenterScreen"  KeyDown="SelNumDown"
      
    BorderBrush="Red" Background="Black" BorderThickness="3"  
        Title="Новая игра " Height="450" Width="800" MinHeight="450" MinWidth="800" Closing="Window_Closing">
    
    <Grid >

        <!--база-->

        <GroupBox Background="Black" BorderThickness="0" Margin="0,0,-2,-2">
            <Grid Margin="0,0,-6,-6" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="401*"/>
                    <RowDefinition Height="28*"/>
                </Grid.RowDefinitions>

                <!--игровое поле-->

                <GroupBox x:Name="GBGrid" Grid.Row="0" Grid.Column="0" BorderThickness="0" Margin="0,20,0,0">
                    <Grid >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!--блок 0-->

                        <Border x:Name="B0" Grid.Column="0" Grid.Row="0" BorderThickness="3" BorderBrush="Red" Background="#FFCEC4C4">
                            <GroupBox x:Name="GB0"  BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt00"  Content="11" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt01"  Content="12" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt02"  Content="13" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt10"  Content="21" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt11"  Content="22" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt12"  Content="23" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt20"  Content="31" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt21"  Content="32" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt22"  Content="33" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B0}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>

                            </GroupBox>
                        </Border>

                        <!--блок 1-->

                        <Border x:Name="B1" Grid.Column="1" Grid.Row="0" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB1" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt03"  Content="14" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt04"  Content="15" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt05"  Content="16" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt13"  Content="24" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt14"  Content="25" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt15"  Content="26" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt23"  Content="34" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt24"  Content="35" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell"  />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt25"  Content="36" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B1}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 2-->

                        <Border x:Name="B2" Grid.Column="2" Grid.Row="0" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB2" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt06"  Content="17" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt07"  Content="18" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt08"  Content="19" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt16"  Content="27" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt17"  Content="28" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt18"  Content="29" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt26"  Content="37" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt27"  Content="38" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt28"  Content="39" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B2}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 3-->

                        <Border x:Name="B3" Grid.Column="0" Grid.Row="1" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB3" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt30"  Content="41" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt31"  Content="42" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt32"  Content="43" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt40"  Content="51" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt41"  Content="52" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt42"  Content="53" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt50"  Content="61" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt51"  Content="62" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt52"  Content="63" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B3}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 4-->

                        <Border x:Name="B4" Grid.Column="1" Grid.Row="1" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB4" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt33"  Content="44" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt34"  Content="45" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt35"  Content="46" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt43"  Content="54" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt44"  Content="55" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell"  />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt45"  Content="56" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt53"  Content="64" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt54"  Content="65" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt55"  Content="66" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B4}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 5-->

                        <Border x:Name="B5" Grid.Column="2" Grid.Row="1" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB5" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt36"  Content="47" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt37"  Content="48" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt38"  Content="49" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt46"  Content="57" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt47"  Content="58" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt48"  Content="59" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt56"  Content="67" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt57"  Content="68" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt58"  Content="69" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B5}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>


                        <!--блок 6-->

                        <Border x:Name="B6" Grid.Column="0" Grid.Row="2" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB6" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt60"  Content="71" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt61"  Content="72" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt62"  Content="73" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt70"  Content="81" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt71"  Content="82" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt72"  Content="83" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt80"  Content="91" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt81"  Content="92" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt82"  Content="93" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B6}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 7-->

                        <Border x:Name="B7" Grid.Column="1" Grid.Row="2" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4"  >
                            <GroupBox x:Name="GB7" BorderThickness="0" Margin="-6,-1,-6,-6"   >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt63"  Content="74" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt64"  Content="75" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt65"  Content="76" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt73"  Content="84" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt74"  Content="85" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt75"  Content="86" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt83"  Content="94" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt84"  Content="95" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt85"  Content="96" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B7}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>

                        <!--блок 8-->

                        <Border x:Name="B8" Grid.Column="2" Grid.Row="2" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4">
                            <GroupBox x:Name="GB8" BorderThickness="0" Margin="-6,-1,-6,-6" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>


                                    <!--кнопки-->

                                    <Viewbox  Grid.Column="0"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt66"  Content="77" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt67"  Content="78" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="0" Stretch="Fill">
                                        <Button x:Name="Bt68"  Content="79" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt76"  Content="87" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt77"  Content="88" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="1" Stretch="Fill">
                                        <Button x:Name="Bt78"  Content="89" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="0"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt86"  Content="97" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="1"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt87"  Content="98" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                    <Viewbox  Grid.Column="2"  Grid.Row="2" Stretch="Fill">
                                        <Button x:Name="Bt88"  Content="99" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=B8}" Click="SelectACell" />
                                    </Viewbox>
                                </Grid>
                            </GroupBox>
                        </Border>
                    </Grid>


                </GroupBox>


                <!--информация/функции-->


                <GroupBox Grid.Column="1"  BorderThickness="0">
                    <Grid Margin="-6,0,-6,-6">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0" Grid.RowSpan="3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="8*"/>
                                <ColumnDefinition Width="13*"/>
                                <ColumnDefinition Width="45*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="33*"/>
                                <RowDefinition Height="304*"/>
                                <RowDefinition Height="31*"/>
                            </Grid.RowDefinitions>

                            <!--бокс выбора клетки-->
                            <Border x:Name="BPan" Grid.Column="1" Grid.Row="1" BorderThickness="3" BorderBrush="Red"  Background="#FFCEC4C4" Margin="0,9,1,0" >
                                <GroupBox x:Name="GBPan" BorderThickness="0" Margin="0,3,-3,0" >
                                    <Grid Margin="-3,-1,-6,-9">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>


                                        <!--кнопки выбора клетки (панель кнопок)-->


                                        <Viewbox Grid.Row="0" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan1"  Content="1" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="1" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan2"  Content="2" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="2" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan3"  Content="3" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="3" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan4"  Content="4" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="4" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan5"  Content="5" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="5" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan6"  Content="6" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="6" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan7"  Content="7" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="7" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan8"  Content="8" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>
                                        <Viewbox Grid.Row="8" Stretch="Fill" Margin="-3,-3,2,3">
                                            <Button x:Name="BtPan9"  Content="9" Width="21" BorderBrush="Black" Background="{Binding Background, ElementName=BPan}" Click="SelNumClick"/>
                                        </Viewbox>

                                    </Grid>
                                </GroupBox>
                            </Border>
                        </Grid>


                        <!--бокс вывода информации и кнопок взаимодействия-->


                        <GroupBox Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Grid.ColumnSpan="2" BorderThickness="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="22*"/>
                                    <RowDefinition Height="65*"/>
                                    <RowDefinition Height="32*"/>

                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80*"/>
                                    <ColumnDefinition Width="285*"/>
                                    <ColumnDefinition Width="18*"/>
                                </Grid.ColumnDefinitions>


                                <!--Информация -->


                                <Border Grid.Row="1" Grid.Column="1"   BorderThickness="2" BorderBrush="Red" Margin="-3,-3,3,3">
                                    <Grid>

                                        <GroupBox Margin="-3,-3,-3,-3" BorderThickness="0">

                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>

                                                </Grid.ColumnDefinitions>
                                                <Viewbox Grid.Column="0" Grid.Row="1" Margin="18,14,19,14" >

                                                    <TextBlock x:Name="nana" TextAlignment="Center" FontSize="40" Foreground="White" />
                                                </Viewbox>
                                                <Viewbox Grid.Column="0" HorizontalAlignment="Left" Grid.Row="0" Grid.ColumnSpan="2"   >

                                                    <RichTextBox x:Name="quan"   FontSize="30" Background="Transparent"  IsReadOnly="True" BorderThickness="0" Foreground="Orange" Width="210"/>
                                                </Viewbox>

                                            </Grid>
                                        </GroupBox>


                                        <!--окно окончания игры-->


                                        <GroupBox x:Name="GBEnd"  Background="Black" Visibility="Hidden" BorderThickness="0">

                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>

                                                </Grid.ColumnDefinitions>
                                                <Viewbox Grid.ColumnSpan="2" >

                                                    <TextBlock x:Name="TBEnd" Text="Победа" Foreground="LightGreen"/>

                                                </Viewbox>

                                                <Viewbox Grid.Row="1">
                                                    <Button x:Name="BtOut" Content="Выйти из игры" FontSize="13" Margin="30,5,30,5" Height="30" Width="100" BorderThickness="1" Background="#FFCEC4C4" BorderBrush="Red" Click="SeptClick"/>
                                                </Viewbox>
                                                <Viewbox Grid.Row="1" Grid.Column="1">
                                                    <Button x:Name="BtMenu" Content="В главное меню" FontSize="13" Margin="30,5,30,5" Height="30" Width="100" BorderThickness="1" Background="#FFCEC4C4" BorderBrush="Red" Click="SeptClick"/>
                                                </Viewbox>


                                            </Grid>
                                        </GroupBox>

                                    </Grid>
                                </Border>


                                <!--контекстное меню пусть будет-->


                                <Viewbox Grid.Row="2" Grid.Column="1" Margin="0,0,10,0" >

                                    <TextBlock x:Name="context" Foreground="White" Text="Пожалуйста, выберите клетку">

                                    </TextBlock>
                                </Viewbox>
                            </Grid>
                        </GroupBox>


                        <!--кнопки взаимодействия-->


                        <GroupBox Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" BorderThickness="0" >
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="39*"/>
                                    <RowDefinition Height="44*"/>
                                    <RowDefinition Height="39*"/>
                                </Grid.RowDefinitions>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="88*"/>
                                    <ColumnDefinition Width="108*"/>
                                    <ColumnDefinition Width="187*"/>
                                    <ColumnDefinition Width="0*"/>
                                </Grid.ColumnDefinitions>

                                <Viewbox Grid.Row="0" Grid.Column="1" Stretch="Fill" Margin="0,0,0,0"  >
                                    <Button x:Name="BtSave"  Content="Сохранить"   BorderBrush="red" Width="68" Background="#FFCEC4C4" Click="SeptClick"/>
                                </Viewbox>
                                <Viewbox Grid.Row="1" Grid.Column="1"  >

                                    <TextBox x:Name="text" Text="Название" MaxLength="10" Width="68" BorderBrush="Red" Background="#FFFFFDD3" 
                                             Visibility="Hidden" LostFocus="text_LostFocus" GotFocus="text_GotFocus" PreviewKeyDown="text_PreviewKeyDown"  />


                                </Viewbox>
                            </Grid>
                        </GroupBox>

                    </Grid>
                </GroupBox>
            </Grid>
        </GroupBox>
        
        <Menu x:Name="Menu" Background="Black" VerticalAlignment="Top" HorizontalAlignment="Left">
            <MenuItem x:Name="MenuSaveName" Visibility="Collapsed"  Foreground="White" FontSize="15.2"/>
            <MenuItem  Header="Настройки" Foreground="White" FontSize="15.2">
                <MenuItem x:Name="MenuAutoSave"  Header="Автосохранение" Foreground="Black"  IsChecked="False" ToolTip="Автосохранение игры" Click="MenuClick" />
                <MenuItem x:Name="MenuWinStyle" Header="Оконный режим" Foreground="Black"  IsChecked="False" ToolTip="Изменить стиль окна" Click="MenuClick"/>
                     </MenuItem>
            <MenuItem  x:Name="MainMenu" Header="Главное меню"   Foreground="White" FontSize="15.2" ToolTip="Выход в главное меню" Click="MenuClick"/>

        </Menu>

    </Grid>

</Window>
